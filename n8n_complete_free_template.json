{
  "name": "ðŸ†“ Komplette kostenlose Social Media & E-Mail Automation",
  "nodes": [
    {
      "id": "telegram-trigger",
      "name": "Telegram Bot Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [240, 300],
      "parameters": {
        "updates": ["message"]
      }
    },
    {
      "id": "command-filter",
      "name": "Befehl Filter",
      "type": "n8n-nodes-base.if",
      "position": [460, 300],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.message.text }}",
              "operation": "startsWith",
              "value2": "/"
            }
          ]
        }
      }
    },
    {
      "id": "welcome-message",
      "name": "Willkommensnachricht",
      "type": "n8n-nodes-base.telegram",
      "position": [680, 200],
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $json.message.chat.id }}",
        "text": "ðŸŽ¬ Willkommen zur kostenlosen Social Media Automation!\n\nðŸ“‹ VerfÃ¼gbare Befehle:\n/video [text] - Avatar Video erstellen\n/photo [beschreibung] - Foto generieren\n/upload [platform] - Social Media Upload\n/email [aktion] - E-Mail Automation\n\nðŸ†“ Alles kostenlos mit kostenlosen APIs!"
      }
    },
    {
      "id": "video-command-filter",
      "name": "Video Befehl",
      "type": "n8n-nodes-base.if",
      "position": [680, 400],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.message.text }}",
              "operation": "startsWith",
              "value2": "/video"
            }
          ]
        }
      }
    },
    {
      "id": "extract-video-text",
      "name": "Video Text extrahieren",
      "type": "n8n-nodes-base.code",
      "position": [900, 400],
      "parameters": {
        "jsCode": "// Extrahiere Text aus /video Befehl\nconst text = $input.first().message.text;\nconst videoText = text.replace('/video', '').trim();\n\nreturn {\n  text: videoText,\n  chatId: $input.first().message.chat.id\n};"
      }
    },
    {
      "id": "text-to-speech",
      "name": "Text zu Sprache (ElevenLabs)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [1120, 400],
      "parameters": {
        "url": "https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM",
        "method": "POST",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpHeaderAuth": {
          "name": "xi-api-key",
          "value": "={{ $env.ELEVENLABS_API_KEY }}"
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "text",
              "value": "={{ $json.text }}"
            },
            {
              "name": "model_id",
              "value": "eleven_monolingual_v1"
            }
          ]
        }
      }
    },
    {
      "id": "create-avatar-video",
      "name": "Avatar Video erstellen (D-ID)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [1340, 400],
      "parameters": {
        "url": "https://api.d-id.com/talks",
        "method": "POST",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpHeaderAuth": {
          "name": "Authorization",
          "value": "Basic {{ $env.DID_API_KEY }}"
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "script.type",
              "value": "text"
            },
            {
              "name": "script.input",
              "value": "={{ $json.text }}"
            },
            {
              "name": "source_url",
              "value": "https://create-images-results.d-id.com/DefaultPresenters/Noelle_f/image.jpeg"
            }
          ]
        }
      }
    },
    {
      "id": "send-video-telegram",
      "name": "Video an Telegram senden",
      "type": "n8n-nodes-base.telegram",
      "position": [1560, 400],
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $json.chatId }}",
        "text": "ðŸŽ¬ Avatar Video erfolgreich erstellt!\n\nâœ… Text zu Sprache: ElevenLabs\nâœ… Avatar Video: D-ID\nâœ… Kostenlos: 20 Credits/Monat"
      }
    },
    {
      "id": "photo-command-filter",
      "name": "Foto Befehl",
      "type": "n8n-nodes-base.if",
      "position": [680, 600],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.message.text }}",
              "operation": "startsWith",
              "value2": "/photo"
            }
          ]
        }
      }
    },
    {
      "id": "get-photo",
      "name": "Foto holen (Unsplash)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [900, 600],
      "parameters": {
        "url": "https://api.unsplash.com/photos/random",
        "method": "GET",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpHeaderAuth": {
          "name": "Authorization",
          "value": "Client-ID {{ $env.UNSPLASH_API_KEY }}"
        },
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "query",
              "value": "={{ $json.message.text.replace('/photo', '').trim() }}"
            }
          ]
        }
      }
    },
    {
      "id": "send-photo-telegram",
      "name": "Foto an Telegram senden",
      "type": "n8n-nodes-base.telegram",
      "position": [1120, 600],
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $json.message.chat.id }}",
        "text": "ðŸ“¸ Foto erfolgreich generiert!\n\nâœ… Foto: Unsplash\nâœ… Kostenlos: 50 Requests/Stunde\nâœ… HD-QualitÃ¤t verfÃ¼gbar"
      }
    },
    {
      "id": "ki-text-generation",
      "name": "KI Text Generierung (Hugging Face)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [900, 800],
      "parameters": {
        "url": "https://api-inference.huggingface.co/models/gpt2",
        "method": "POST",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpHeaderAuth": {
          "name": "Authorization",
          "value": "Bearer {{ $env.HUGGINGFACE_API_KEY }}"
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "inputs",
              "value": "={{ $json.prompt }}"
            }
          ]
        }
      }
    },
    {
      "id": "ki-image-generation",
      "name": "KI Bild Generierung (Stability AI)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [1120, 800],
      "parameters": {
        "url": "https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/text-to-image",
        "method": "POST",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpHeaderAuth": {
          "name": "Authorization",
          "value": "Bearer {{ $env.STABILITY_API_KEY }}"
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "text_prompts[0][text]",
              "value": "={{ $json.prompt }}"
            },
            {
              "name": "cfg_scale",
              "value": "7"
            },
            {
              "name": "height",
              "value": "1024"
            },
            {
              "name": "width",
              "value": "1024"
            },
            {
              "name": "samples",
              "value": "1"
            }
          ]
        }
      }
    },
    {
      "id": "video-generation",
      "name": "Video Generierung (Replicate)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [1340, 800],
      "parameters": {
        "url": "https://api.replicate.com/v1/predictions",
        "method": "POST",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpHeaderAuth": {
          "name": "Authorization",
          "value": "Token {{ $env.REPLICATE_API_KEY }}"
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "version",
              "value": "stable-video-diffusion-img2vid-xt"
            },
            {
              "name": "input.prompt",
              "value": "={{ $json.prompt }}"
            }
          ]
        }
      }
    },
    {
      "id": "cloudinary-upload",
      "name": "Cloudinary Upload",
      "type": "n8n-nodes-base.httpRequest",
      "position": [1560, 800],
      "parameters": {
        "url": "https://api.cloudinary.com/v1_1/{{ $env.CLOUDINARY_CLOUD_NAME }}/image/upload",
        "method": "POST",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpHeaderAuth": {
          "name": "Authorization",
          "value": "Basic {{ Buffer.from($env.CLOUDINARY_API_KEY + ':' + $env.CLOUDINARY_API_SECRET).toString('base64') }}"
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "file",
              "value": "={{ $json.file }}"
            }
          ]
        }
      }
    },
    {
      "id": "social-media-upload",
      "name": "Social Media Upload",
      "type": "n8n-nodes-base.httpRequest",
      "position": [1780, 800],
      "parameters": {
        "url": "http://localhost:5000/upload",
        "method": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "platform",
              "value": "={{ $json.platform }}"
            },
            {
              "name": "file_path",
              "value": "={{ $json.file_path }}"
            },
            {
              "name": "caption",
              "value": "={{ $json.caption }}"
            }
          ]
        }
      }
    },
    {
      "id": "email-automation",
      "name": "E-Mail Automation",
      "type": "n8n-nodes-base.httpRequest",
      "position": [2000, 800],
      "parameters": {
        "url": "http://localhost:5000/email/read",
        "method": "GET",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      }
    },
    {
      "id": "success-message",
      "name": "Erfolgsmeldung",
      "type": "n8n-nodes-base.telegram",
      "position": [2220, 800],
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $json.chatId }}",
        "text": "âœ… Automation erfolgreich abgeschlossen!\n\nðŸ†“ Alle Services kostenlos genutzt\nðŸ“Š Limits eingehalten\nðŸŽ‰ Viel SpaÃŸ mit der Automation!"
      }
    }
  ],
  "connections": {
    "Telegram Bot Trigger": {
      "main": [
        [
          {
            "node": "Befehl Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Befehl Filter": {
      "main": [
        [
          {
            "node": "Willkommensnachricht",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Video Befehl",
            "type": "main",
            "index": 0
          },
          {
            "node": "Foto Befehl",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Video Befehl": {
      "main": [
        [
          {
            "node": "Extract Video Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Video Text": {
      "main": [
        [
          {
            "node": "Text to Speech (ElevenLabs)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Text to Speech (ElevenLabs)": {
      "main": [
        [
          {
            "node": "Create Avatar Video (D-ID)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Avatar Video (D-ID)": {
      "main": [
        [
          {
            "node": "Send Video Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Foto Befehl": {
      "main": [
        [
          {
            "node": "Get Photo (Unsplash)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Photo (Unsplash)": {
      "main": [
        [
          {
            "node": "Send Photo Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "KI Text Generierung (Hugging Face)": {
      "main": [
        [
          {
            "node": "Cloudinary Upload",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "KI Bild Generierung (Stability AI)": {
      "main": [
        [
          {
            "node": "Cloudinary Upload",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Video Generierung (Replicate)": {
      "main": [
        [
          {
            "node": "Cloudinary Upload",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cloudinary Upload": {
      "main": [
        [
          {
            "node": "Social Media Upload",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Social Media Upload": {
      "main": [
        [
          {
            "node": "E-Mail Automation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "E-Mail Automation": {
      "main": [
        [
          {
            "node": "Erfolgsmeldung",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}